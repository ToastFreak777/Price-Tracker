{% extends "auth_layout.html" %} {% block content %}
<form class="auth__form-group" method="post">
  {{ form.hidden_tag() }}
  <h1 class="auth__form__title">Login</h1>
  <!-- TODO: frontend should show error messages from form validation and API responses as a toast  -->

  <div class="auth__form__group">
    {{ form.email.label(class="auth__form__label visually-hidden") }}
    {% if form.email.errors %}
    {{form.email(class="auth__form__input auth__form__input--error", placeholder="Email") }} 
    <div class="auth__form__errors">
      {% for error in form.email.errors %}
      <span>{{ error }}</span>
      {% endfor %}
    </div>
    {% else %}
    {{form.email(class="auth__form__input", placeholder="Email") }} 
    {% endif %}
  </div>
  <div class="auth__form__group">
    {{ form.password.label(class="auth__form__label visually-hidden") }} 
    {% if form.password.errors %}
    {{form.password(class="auth__form__input auth__form__input--error", placeholder="Password") }}
    <div class="auth__form__errors">
      {% for error in form.password.errors %}
      <span>{{ error }}</span>
      {% endfor %}
    </div>
    {% else %}
    {{form.password(class="auth__form__input", placeholder="Password") }}
    {% endif %}
  </div>

  {{ form.submit(class="auth__form__button") }}

  <a href="/auth/forgot-password" class="auth__form__link">Forgot password?</a>

  <span class="auth__form__description"
    >Don't have an account?
    <a class="auth__form__link" href="/auth/register">Register</a></span
  >
</form>
{% endblock %}
